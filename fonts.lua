--[[

Fonts (=0.11(10))

Ğ¢ĞµĞºÑÑ‚Ğ¾Ğ²Ñ‹Ğµ ÑˆÑ€Ğ¸Ñ„Ñ‚Ñ‹

Ğ’ÑĞµ ÑˆÑ€Ğ¸Ñ„Ñ‚Ñ‹: ğ• ğ•¦ğ•¥ğ•ğ•šğ•Ÿğ•–. ğ˜´ğ˜¢ğ˜¯ğ˜´_ğ˜ªğ˜µğ˜¢ğ˜­ğ˜ªğ˜¤, sá´á´€ÊŸÊŸ_á´„á´€á´˜s, ğ—Œğ–ºğ—‡ğ—Œ, ğ’”ğ’†ğ’“ğ’Šğ’‡_ğ’ƒğ’ğ’ğ’…_ğ’Šğ’•ğ’‚ğ’ğ’Šğ’„, ğ˜€ğ—®ğ—»ğ˜€_ğ—¯ğ—¼ğ—¹ğ—±, ğŸ…’ğŸ…˜ğŸ…¡ğŸ…’ğŸ…›ğŸ…”ğŸ…¢_ğŸ…‘ğŸ…›ğŸ…ğŸ…’ğŸ…š, ğ‘ ğ‘’ğ‘Ÿğ‘–ğ‘“_ğ‘–ğ‘¡ğ‘ğ‘™ğ‘–ğ‘, çˆªå‚å‡ á˜œå‚, ğ–Œğ–”ğ–™ğ–ğ–ğ–ˆ_ğ–‡ğ–”ğ–‘ğ–‰. ğšğš¢ğš™ğšğš ğš›ğš’ğšğšğš›, áµ—â±â¿Ê¸, ğ¬ğğ«ğ¢ğŸ_ğ›ğ¨ğ¥ğ, á‘•Oá—°Iá‘•, ğ“ˆğ’¸ğ“‡ğ’¾ğ“…ğ“‰, ğŸ…‚ğŸ…€ğŸ…„ğŸ„°ğŸ…ğŸ„´ğŸ…‚, ğ”¤ğ”¬ğ”±ğ”¥ğ”¦ğ” , ğŸ†‚ğŸ†€ğŸ†„ğŸ…°ï¸ğŸ†ğŸ…´ğŸ†‚_ğŸ…±ï¸ğŸ…»ğŸ…°ï¸ğŸ…²ğŸ…º, ğ™¨ğ™–ğ™£ğ™¨_ğ™—ğ™¤ğ™¡ğ™™_ğ™ğ™©ğ™–ğ™¡ğ™ğ™˜, ğ“¼ğ“¬ğ“»ğ“²ğ“¹ğ“½_ğ“«ğ“¸ğ“µğ“­

ĞŸÑ€Ğ¾Ñ‡Ğ¸Ğ¹ Ñ‚ĞµĞºÑÑ‚ {font ĞÑ€Ğ³ÑƒĞ¼ĞµĞ½Ñ‚Ñ‹}$
Ğ•ÑĞ»Ğ¸ ĞµÑÑ‚ÑŒ Ğ°Ñ€Ğ³ÑƒĞ¼ĞµĞ½Ñ‚Ñ‹ Ñ‚Ğ¾ Ñ‚ĞµĞºÑÑ‚ Ğ±ÑƒĞ´ĞµÑ‚ Ğ²Ğ·ÑÑ‚ Ğ¸Ğ· Ğ½Ğ¸Ñ…, Ğ¸Ğ½Ğ°Ñ‡Ğµ Ğ±ÑƒĞ´ĞµÑ‚ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½ Ğ¾ÑÑ‚Ğ°Ğ»ÑŒĞ½Ğ¾Ğ¹ Ñ‚ĞµĞºÑÑ‚

font - ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ° Ğ¾Ñ‚ĞºÑ€Ñ‹Ğ²Ğ°ĞµÑ‚ Ğ¼ĞµĞ½Ñ Ğ²Ñ‹Ğ±Ğ¾Ñ€Ğ° ÑˆÑ€Ğ¸Ñ„Ñ‚Ğ°, Ğ´Ğ¾ÑÑ‚Ğ°Ñ‚Ğ¾Ñ‡Ğ½Ğ¾ Ğ½Ğ°Ğ¶Ğ°Ñ‚ÑŒ Ğ½Ğ° Ğ½ÑƒĞ¶Ğ½Ñ‹Ğ¹ ÑˆÑ€Ğ¸Ñ„Ñ‚

--]]

require "menu"
require "utils"
require "iutf8"

local pattern = "qwertyuiopasdfghjklzxcvbnmQWERTYUIOPASDFGHJKLZXCVBNM0123456789"

local fonts = {
    typewriter = {
        "ğšš",
        "ğš ",
        "ğš",
        "ğš›",
        "ğš",
        "ğš¢",
        "ğš",
        "ğš’",
        "ğš˜",
        "ğš™",
        "ğšŠ",
        "ğšœ",
        "ğš",
        "ğš",
        "ğš",
        "ğš‘",
        "ğš“",
        "ğš”",
        "ğš•",
        "ğš£",
        "ğš¡",
        "ğšŒ",
        "ğšŸ",
        "ğš‹",
        "ğš—",
        "ğš–",
        "ğš€",
        "ğš†",
        "ğ™´",
        "ğš",
        "ğšƒ",
        "ğšˆ",
        "ğš„",
        "ğ™¸",
        "ğ™¾",
        "ğ™¿",
        "ğ™°",
        "ğš‚",
        "ğ™³",
        "ğ™µ",
        "ğ™¶",
        "ğ™·",
        "ğ™¹",
        "ğ™º",
        "ğ™»",
        "ğš‰",
        "ğš‡",
        "ğ™²",
        "ğš…",
        "ğ™±",
        "ğ™½",
        "ğ™¼"
    },
    outline = {
        "ğ•¢",
        "ğ•¨",
        "ğ•–",
        "ğ•£",
        "ğ•¥",
        "ğ•ª",
        "ğ•¦",
        "ğ•š",
        "ğ• ",
        "ğ•¡",
        "ğ•’",
        "ğ•¤",
        "ğ••",
        "ğ•—",
        "ğ•˜",
        "ğ•™",
        "ğ•›",
        "ğ•œ",
        "ğ•",
        "ğ•«",
        "ğ•©",
        "ğ•”",
        "ğ•§",
        "ğ•“",
        "ğ•Ÿ",
        "ğ•",
        "â„š",
        "ğ•",
        "ğ”¼",
        "â„",
        "ğ•‹",
        "ğ•",
        "ğ•Œ",
        "ğ•€",
        "ğ•†",
        "â„™",
        "ğ”¸",
        "ğ•Š",
        "ğ”»",
        "ğ”½",
        "ğ”¾",
        "â„",
        "ğ•",
        "ğ•‚",
        "ğ•ƒ",
        "â„¤",
        "ğ•",
        "â„‚",
        "ğ•",
        "ğ”¹",
        "â„•",
        "ğ•„"
    },
    serif_bold = {
        "ğª",
        "ğ°",
        "ğ",
        "ğ«",
        "ğ­",
        "ğ²",
        "ğ®",
        "ğ¢",
        "ğ¨",
        "ğ©",
        "ğš",
        "ğ¬",
        "ğ",
        "ğŸ",
        "ğ ",
        "ğ¡",
        "ğ£",
        "ğ¤",
        "ğ¥",
        "ğ³",
        "ğ±",
        "ğœ",
        "ğ¯",
        "ğ›",
        "ğ§",
        "ğ¦",
        "ğ",
        "ğ–",
        "ğ„",
        "ğ‘",
        "ğ“",
        "ğ˜",
        "ğ”",
        "ğˆ",
        "ğ",
        "ğ",
        "ğ€",
        "ğ’",
        "ğƒ",
        "ğ…",
        "ğ†",
        "ğ‡",
        "ğ‰",
        "ğŠ",
        "ğ‹",
        "ğ™",
        "ğ—",
        "ğ‚",
        "ğ•",
        "ğ",
        "ğ",
        "ğŒ"
    },
    serif_bold_italic = {
        "ğ’’",
        "ğ’˜",
        "ğ’†",
        "ğ’“",
        "ğ’•",
        "ğ’š",
        "ğ’–",
        "ğ’Š",
        "ğ’",
        "ğ’‘",
        "ğ’‚",
        "ğ’”",
        "ğ’…",
        "ğ’‡",
        "ğ’ˆ",
        "ğ’‰",
        "ğ’‹",
        "ğ’Œ",
        "ğ’",
        "ğ’›",
        "ğ’™",
        "ğ’„",
        "ğ’—",
        "ğ’ƒ",
        "ğ’",
        "ğ’",
        "ğ‘¸",
        "ğ‘¾",
        "ğ‘¬",
        "ğ‘¹",
        "ğ‘»",
        "ğ’€",
        "ğ‘¼",
        "ğ‘°",
        "ğ‘¶",
        "ğ‘·",
        "ğ‘¨",
        "ğ‘º",
        "ğ‘«",
        "ğ‘­",
        "ğ‘®",
        "ğ‘¯",
        "ğ‘±",
        "ğ‘²",
        "ğ‘³",
        "ğ’",
        "ğ‘¿",
        "ğ‘ª",
        "ğ‘½",
        "ğ‘©",
        "ğ‘µ",
        "ğ‘´"
    },
    serif_italic = {
        "ğ‘",
        "ğ‘¤",
        "ğ‘’",
        "ğ‘Ÿ",
        "ğ‘¡",
        "ğ‘¦",
        "ğ‘¢",
        "ğ‘–",
        "ğ‘œ",
        "ğ‘",
        "ğ‘",
        "ğ‘ ",
        "ğ‘‘",
        "ğ‘“",
        "ğ‘”",
        "â„",
        "ğ‘—",
        "ğ‘˜",
        "ğ‘™",
        "ğ‘§",
        "ğ‘¥",
        "ğ‘",
        "ğ‘£",
        "ğ‘",
        "ğ‘›",
        "ğ‘š",
        "ğ‘„",
        "ğ‘Š",
        "ğ¸",
        "ğ‘…",
        "ğ‘‡",
        "ğ‘Œ",
        "ğ‘ˆ",
        "ğ¼",
        "ğ‘‚",
        "ğ‘ƒ",
        "ğ´",
        "ğ‘†",
        "ğ·",
        "ğ¹",
        "ğº",
        "ğ»",
        "ğ½",
        "ğ¾",
        "ğ¿",
        "ğ‘",
        "ğ‘‹",
        "ğ¶",
        "ğ‘‰",
        "ğµ",
        "ğ‘",
        "ğ‘€"
    },
    small_caps = {
        "Ç«",
        "á´¡",
        "á´‡",
        "Ê€",
        "á´›",
        "Ê",
        "á´œ",
        "Éª",
        "á´",
        "á´˜",
        "á´€",
        "s",
        "á´…",
        "Ò“",
        "É¢",
        "Êœ",
        "á´Š",
        "á´‹",
        "ÊŸ",
        "á´¢",
        "x",
        "á´„",
        "á´ ",
        "Ê™",
        "É´",
        "á´",
        "Q",
        "W",
        "E",
        "R",
        "T",
        "Y",
        "U",
        "I",
        "O",
        "P",
        "A",
        "S",
        "D",
        "F",
        "G",
        "H",
        "J",
        "K",
        "L",
        "Z",
        "X",
        "C",
        "V",
        "B",
        "N",
        "M"
    },
    script = {
        "ğ“†",
        "ğ“Œ",
        "â„¯",
        "ğ“‡",
        "ğ“‰",
        "ğ“",
        "ğ“Š",
        "ğ’¾",
        "â„´",
        "ğ“…",
        "ğ’¶",
        "ğ“ˆ",
        "ğ’¹",
        "ğ’»",
        "â„Š",
        "ğ’½",
        "ğ’¿",
        "ğ“€",
        "ğ“",
        "ğ“",
        "ğ“",
        "ğ’¸",
        "ğ“‹",
        "ğ’·",
        "ğ“ƒ",
        "ğ“‚",
        "ğ’¬",
        "ğ’²",
        "â„°",
        "â„›",
        "ğ’¯",
        "ğ’´",
        "ğ’°",
        "â„",
        "ğ’ª",
        "ğ’«",
        "ğ’œ",
        "ğ’®",
        "ğ’Ÿ",
        "â„±",
        "ğ’¢",
        "â„‹",
        "ğ’¥",
        "ğ’¦",
        "â„’",
        "ğ’µ",
        "ğ’³",
        "ğ’",
        "ğ’±",
        "â„¬",
        "ğ’©",
        "â„³"
    },
    script_bold = {
        "ğ“º",
        "ğ”€",
        "ğ“®",
        "ğ“»",
        "ğ“½",
        "ğ”‚",
        "ğ“¾",
        "ğ“²",
        "ğ“¸",
        "ğ“¹",
        "ğ“ª",
        "ğ“¼",
        "ğ“­",
        "ğ“¯",
        "ğ“°",
        "ğ“±",
        "ğ“³",
        "ğ“´",
        "ğ“µ",
        "ğ”ƒ",
        "ğ”",
        "ğ“¬",
        "ğ“¿",
        "ğ“«",
        "ğ“·",
        "ğ“¶",
        "ğ“ ",
        "ğ“¦",
        "ğ“”",
        "ğ“¡",
        "ğ“£",
        "ğ“¨",
        "ğ“¤",
        "ğ“˜",
        "ğ“",
        "ğ“Ÿ",
        "ğ“",
        "ğ“¢",
        "ğ““",
        "ğ“•",
        "ğ“–",
        "ğ“—",
        "ğ“™",
        "ğ“š",
        "ğ“›",
        "ğ“©",
        "ğ“§",
        "ğ“’",
        "ğ“¥",
        "ğ“‘",
        "ğ“",
        "ğ“œ"
    },
    sans_bold = {
        "ğ—¾",
        "ğ˜„",
        "ğ—²",
        "ğ—¿",
        "ğ˜",
        "ğ˜†",
        "ğ˜‚",
        "ğ—¶",
        "ğ—¼",
        "ğ—½",
        "ğ—®",
        "ğ˜€",
        "ğ—±",
        "ğ—³",
        "ğ—´",
        "ğ—µ",
        "ğ—·",
        "ğ—¸",
        "ğ—¹",
        "ğ˜‡",
        "ğ˜…",
        "ğ—°",
        "ğ˜ƒ",
        "ğ—¯",
        "ğ—»",
        "ğ—º",
        "ğ—¤",
        "ğ—ª",
        "ğ—˜",
        "ğ—¥",
        "ğ—§",
        "ğ—¬",
        "ğ—¨",
        "ğ—œ",
        "ğ—¢",
        "ğ—£",
        "ğ—”",
        "ğ—¦",
        "ğ——",
        "ğ—™",
        "ğ—š",
        "ğ—›",
        "ğ—",
        "ğ—",
        "ğ—Ÿ",
        "ğ—­",
        "ğ—«",
        "ğ—–",
        "ğ—©",
        "ğ—•",
        "ğ—¡",
        "ğ— "
    },
    sans_bold_italic = {
        "ğ™¦",
        "ğ™¬",
        "ğ™š",
        "ğ™§",
        "ğ™©",
        "ğ™®",
        "ğ™ª",
        "ğ™",
        "ğ™¤",
        "ğ™¥",
        "ğ™–",
        "ğ™¨",
        "ğ™™",
        "ğ™›",
        "ğ™œ",
        "ğ™",
        "ğ™Ÿ",
        "ğ™ ",
        "ğ™¡",
        "ğ™¯",
        "ğ™­",
        "ğ™˜",
        "ğ™«",
        "ğ™—",
        "ğ™£",
        "ğ™¢",
        "ğ™Œ",
        "ğ™’",
        "ğ™€",
        "ğ™",
        "ğ™",
        "ğ™”",
        "ğ™",
        "ğ™„",
        "ğ™Š",
        "ğ™‹",
        "ğ˜¼",
        "ğ™",
        "ğ˜¿",
        "ğ™",
        "ğ™‚",
        "ğ™ƒ",
        "ğ™…",
        "ğ™†",
        "ğ™‡",
        "ğ™•",
        "ğ™“",
        "ğ˜¾",
        "ğ™‘",
        "ğ˜½",
        "ğ™‰",
        "ğ™ˆ"
    },
    sans_italic = {
        "ğ˜²",
        "ğ˜¸",
        "ğ˜¦",
        "ğ˜³",
        "ğ˜µ",
        "ğ˜º",
        "ğ˜¶",
        "ğ˜ª",
        "ğ˜°",
        "ğ˜±",
        "ğ˜¢",
        "ğ˜´",
        "ğ˜¥",
        "ğ˜§",
        "ğ˜¨",
        "ğ˜©",
        "ğ˜«",
        "ğ˜¬",
        "ğ˜­",
        "ğ˜»",
        "ğ˜¹",
        "ğ˜¤",
        "ğ˜·",
        "ğ˜£",
        "ğ˜¯",
        "ğ˜®",
        "ğ˜˜",
        "ğ˜",
        "ğ˜Œ",
        "ğ˜™",
        "ğ˜›",
        "ğ˜ ",
        "ğ˜œ",
        "ğ˜",
        "ğ˜–",
        "ğ˜—",
        "ğ˜ˆ",
        "??",
        "ğ˜‹",
        "ğ˜",
        "ğ˜",
        "ğ˜",
        "ğ˜‘",
        "ğ˜’",
        "ğ˜“",
        "ğ˜¡",
        "ğ˜Ÿ",
        "ğ˜Š",
        "ğ˜",
        "ğ˜‰",
        "ğ˜•",
        "ğ˜”"
    },
    sans = {
        "ğ—Š",
        "ğ—",
        "ğ–¾",
        "ğ—‹",
        "ğ—",
        "ğ—’",
        "ğ—",
        "ğ—‚",
        "ğ—ˆ",
        "ğ—‰",
        "ğ–º",
        "ğ—Œ",
        "ğ–½",
        "ğ–¿",
        "ğ—€",
        "ğ—",
        "ğ—ƒ",
        "ğ—„",
        "ğ—…",
        "ğ—“",
        "ğ—‘",
        "ğ–¼",
        "ğ—",
        "ğ–»",
        "ğ—‡",
        "ğ—†",
        "ğ–°",
        "ğ–¶",
        "ğ–¤",
        "ğ–±",
        "ğ–³",
        "ğ–¸",
        "ğ–´",
        "ğ–¨",
        "ğ–®",
        "ğ–¯",
        "ğ– ",
        "ğ–²",
        "ğ–£",
        "ğ–¥",
        "ğ–¦",
        "ğ–§",
        "ğ–©",
        "ğ–ª",
        "ğ–«",
        "ğ–¹",
        "ğ–·",
        "ğ–¢",
        "ğ–µ",
        "ğ–¡",
        "ğ–­",
        "ğ–¬"
    },
    gothic = {
        "ğ”®",
        "ğ”´",
        "ğ”¢",
        "ğ”¯",
        "ğ”±",
        "ğ”¶",
        "ğ”²",
        "ğ”¦",
        "ğ”¬",
        "ğ”­",
        "ğ”",
        "ğ”°",
        "ğ”¡",
        "ğ”£",
        "ğ”¤",
        "ğ”¥",
        "ğ”§",
        "ğ”¨",
        "ğ”©",
        "ğ”·",
        "ğ”µ",
        "ğ” ",
        "ğ”³",
        "ğ”Ÿ",
        "ğ”«",
        "ğ”ª",
        "ğ””",
        "ğ”š",
        "ğ”ˆ",
        "â„œ",
        "ğ”—",
        "ğ”œ",
        "ğ”˜",
        "â„‘",
        "ğ”’",
        "ğ”“",
        "ğ”„",
        "ğ”–",
        "ğ”‡",
        "ğ”‰",
        "ğ”Š",
        "â„Œ",
        "ğ”",
        "ğ”",
        "ğ”",
        "â„¨",
        "ğ”›",
        "â„­",
        "ğ”™",
        "ğ”…",
        "ğ”‘",
        "ğ”"
    },
    gothic_bold = {
        "ğ––",
        "ğ–œ",
        "ğ–Š",
        "ğ–—",
        "ğ–™",
        "ğ–",
        "ğ–š",
        "ğ–",
        "ğ–”",
        "ğ–•",
        "ğ–†",
        "ğ–˜",
        "ğ–‰",
        "ğ–‹",
        "ğ–Œ",
        "ğ–",
        "ğ–",
        "ğ–",
        "ğ–‘",
        "ğ–Ÿ",
        "ğ–",
        "ğ–ˆ",
        "ğ–›",
        "ğ–‡",
        "ğ–“",
        "ğ–’",
        "ğ•¼",
        "ğ–‚",
        "ğ•°",
        "ğ•½",
        "ğ•¿",
        "ğ–„",
        "ğ–€",
        "ğ•´",
        "ğ•º",
        "ğ•»",
        "ğ•¬",
        "ğ•¾",
        "ğ•¯",
        "ğ•±",
        "ğ•²",
        "ğ•³",
        "ğ•µ",
        "ğ•¶",
        "ğ•·",
        "ğ–…",
        "ğ–ƒ",
        "ğ•®",
        "ğ–",
        "ğ•­",
        "ğ•¹",
        "ğ•¸"
    },
    tiny = {
        "áµ ",
        "Ê·",
        "áµ‰",
        "Ê³",
        "áµ—",
        "Ê¸",
        "áµ˜",
        "â±",
        "áµ’",
        "áµ–",
        "áµƒ",
        "Ë¢",
        "áµˆ",
        "á¶ ",
        "áµ",
        "Ê°",
        "Ê²",
        "áµ",
        "Ë¡",
        "á¶»",
        "Ë£",
        "á¶œ",
        "áµ›",
        "áµ‡",
        "â¿",
        "áµ"
    },
    comic = {
        "á‘«",
        "á—¯",
        "á—´",
        "á–‡",
        "T",
        "Y",
        "á‘Œ",
        "I",
        "O",
        "á‘­",
        "á—©",
        "Õ",
        "á—ª",
        "á–´",
        "á˜œ",
        "á•¼",
        "á’",
        "K",
        "á’ª",
        "á˜”",
        "á™­",
        "á‘•",
        "á¯",
        "á—·",
        "á‘",
        "á—°"
    },
    circles_black = {
        "ğŸ… ",
        "ğŸ…¦",
        "ğŸ…”",
        "ğŸ…¡",
        "ğŸ…£",
        "ğŸ…¨",
        "ğŸ…¤",
        "ğŸ…˜",
        "ğŸ…",
        "ğŸ…Ÿ",
        "ğŸ…",
        "ğŸ…¢",
        "ğŸ…“",
        "ğŸ…•",
        "ğŸ…–",
        "ğŸ…—",
        "ğŸ…™",
        "ğŸ…š",
        "ğŸ…›",
        "ğŸ…©",
        "ğŸ…§",
        "ğŸ…’",
        "ğŸ…¥",
        "ğŸ…‘",
        "ğŸ…",
        "ğŸ…œ"
    },
    squares = {
        "ğŸ…€",
        "ğŸ…†",
        "ğŸ„´",
        "ğŸ…",
        "ğŸ…ƒ",
        "ğŸ…ˆ",
        "ğŸ…„",
        "ğŸ„¸",
        "ğŸ„¾",
        "ğŸ„¿",
        "ğŸ„°",
        "ğŸ…‚",
        "ğŸ„³",
        "ğŸ„µ",
        "ğŸ„¶",
        "ğŸ„·",
        "ğŸ„¹",
        "ğŸ„º",
        "ğŸ„»",
        "ğŸ…‰",
        "ğŸ…‡",
        "ğŸ„²",
        "ğŸ……",
        "ğŸ„±",
        "ğŸ„½",
        "ğŸ„¼"
    },
    squares_black = {
        "ğŸ†€",
        "ğŸ††",
        "ğŸ…´",
        "ğŸ†",
        "ğŸ†ƒ",
        "ğŸ†ˆ",
        "ğŸ†„",
        "ğŸ…¸",
        "ğŸ…¾",
        "ğŸ…¿",
        "ğŸ…°",
        "ğŸ†‚",
        "ğŸ…³",
        "ğŸ…µ",
        "ğŸ…¶",
        "ğŸ…·",
        "ğŸ…¹",
        "ğŸ…º",
        "ğŸ…»",
        "ğŸ†‰",
        "ğŸ†‡",
        "ğŸ…²",
        "ğŸ†…",
        "ğŸ…±",
        "ğŸ…½",
        "ğŸ…¼"
    },
    manga = {
        "Ò¨",
        "å±±",
        "ä¹‡",
        "å°º",
        "ã„’",
        "ã„š",
        "ã„©",
        "|",
        "ã„–",
        "å©",
        "å‚",
        "ä¸‚",
        "á—ª",
        "åƒ",
        "á˜œ",
        "å„",
        "ï¾Œ",
        "Òœ",
        "ã„¥",
        "ä¹™",
        "ä¹‚",
        "åŒš",
        "á¯",
        "ä¹ƒ",
        "å‡ ",
        "çˆª"
    }
}

local function apply(font, text)
    return text:gsub(
            utf8.charpattern,
            function(c)
                local p = pattern:find(utils.escape(c))
                return font[p] or c
            end
    )
end

local function next(input, query, v)
    if query:getArgs() ~= "" then
        query:answer(apply(v, query:getArgs()))
    else
        inline:setText(input, apply(v, query:replaceExpression("")))
    end
end

local function font(_, query)
    local buttons = {}

    for k, v in pairs(fonts) do
        buttons[#buttons + 1] = {
            caption = "[" .. apply(v, k) .. "]",
            action = function(input, query)
                next(input, query, v)
            end
        }

        buttons[#buttons + 1] = " "
    end

    menu.create(query, buttons, font)
end

return function(module)
    module:setCategory "Fonts"
    module:registerCommand("font", font, "Apply textfont")
    for k, v in pairs(fonts) do
        module:registerCommand(
                k,
                function(input, query)
                    next(input, query, v)
                end,
                apply(v, k)
        )
    end
    module:saveLazyLoad()
end
